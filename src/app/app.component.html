<div class="dashboard">
  <!-- Header -->
  <header class="dashboard-header">
    <div class="header-content">
      <div class="header-text">
        <h1>Dashboard</h1>
        <p>Here's your account details and deposits.</p>
      </div>
      <div class="header-actions">
        <mat-form-field class="search-field" appearance="outline">
          <mat-icon matPrefix>search</mat-icon>
          <input matInput placeholder="Search" />
        </mat-form-field>
      </div>
    </div>

    <!-- Period selector and filters -->
    <div class="header-controls">
      <div class="period-selector">
        <button
          class="period-btn"
          [class.active]="selectedPeriod === 'This month'"
          (click)="selectPeriod('This month')">
          This month
        </button>
        <button
          class="period-btn"
          [class.active]="selectedPeriod === 'Last month'"
          (click)="selectPeriod('Last month')">
          Last month
        </button>
        <button
          class="period-btn period-btn--custom"
          [class.active]="selectedPeriod === 'Custom'"
          (click)="selectPeriod('Custom')">
          <mat-icon>add</mat-icon>
          Custom
        </button>
      </div>
      <div class="filter-actions">
        <button class="filter-btn">
          <svg width="18" height="20" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M16.5 8.33334H1.5M12.3333 1.66667V5.00001M5.66667 1.66667V5.00001M5.5 18.3333H12.5C13.9001 18.3333 14.6002 18.3333 15.135 18.0609C15.6054 17.8212 15.9878 17.4387 16.2275 16.9683C16.5 16.4335 16.5 15.7335 16.5 14.3333V7.33334C16.5 5.93321 16.5 5.23314 16.2275 4.69836C15.9878 4.22796 15.6054 3.84551 15.135 3.60582C14.6002 3.33334 13.9001 3.33334 12.5 3.33334H5.5C4.09987 3.33334 3.3998 3.33334 2.86502 3.60582C2.39462 3.84551 2.01217 4.22796 1.77248 4.69836C1.5 5.23314 1.5 5.93321 1.5 7.33334V14.3333C1.5 15.7335 1.5 16.4335 1.77248 16.9683C2.01217 17.4387 2.39462 17.8212 2.86502 18.0609C3.3998 18.3333 4.09987 18.3333 5.5 18.3333Z" stroke="#344054" stroke-width="1.66667" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span class="filter-btn__text date">Select dates</span>
        </button>
        <mat-form-field class="hidden-datepicker" appearance="outline">
          <input matInput [matDatepicker]="picker">
        </mat-form-field>

        <mat-datepicker #picker></mat-datepicker>

<!--        <button class="filter-btn" aria-label="Select dates">-->
<!--          <svg width="18" height="20" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">-->
<!--            <path d="M16.5 8.33334H1.5M12.3333 1.66667V5.00001M5.66667 1.66667V5.00001M5.5 18.3333H12.5C13.9001 18.3333 14.6002 18.3333 15.135 18.0609C15.6054 17.8212 15.9878 17.4387 16.2275 16.9683C16.5 16.4335 16.5 15.7335 16.5 14.3333V7.33334C16.5 5.93321 16.5 5.23314 16.2275 4.69836C15.9878 4.22796 15.6054 3.84551 15.135 3.60582C14.6002 3.33334 13.9001 3.33334 12.5 3.33334H5.5C4.09987 3.33334 3.3998 3.33334 2.86502 3.60582C2.39462 3.84551 2.01217 4.22796 1.77248 4.69836C1.5 5.23314 1.5 5.93321 1.5 7.33334V14.3333C1.5 15.7335 1.5 16.4335 1.77248 16.9683C2.01217 17.4387 2.39462 17.8212 2.86502 18.0609C3.3998 18.3333 4.09987 18.3333 5.5 18.3333Z" stroke="#344054" stroke-width="1.66667" stroke-linecap="round" stroke-linejoin="round"/>-->
<!--          </svg>-->

<!--          <span class="filter-btn__text date">-->
<!--            {{ selectedDateRange ? selectedDateRange : 'Select dates' }}-->
<!--          </span>-->
<!--        </button>-->

        <button class="filter-btn">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M5 10H15M2.5 5H17.5M7.5 15H12.5" stroke="#344054" stroke-width="1.66667" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span class="filter-btn__text filter">Filters</span>
        </button>
      </div>
    </div>
  </header>

  <!-- Stats Row -->
  <div class="stats-grid">
    <!-- Portfolio at Risk Card -->
    <mat-card class="stat-card" appearance="outlined">
      <div class="stat-card__header">
        <h3 class="stat-card__title">Portfolio at Risk (PAR)</h3>
        <button mat-icon-button class="stat-card__menu">
          <mat-icon>more_vert</mat-icon>
        </button>
      </div>
      <div class="gauge-chart">
        <div>
          <canvas style="height: 200px; width: 200px" id="canvas">{{chart}}</canvas>
        </div>
        <ul class="gauge-chart__legend">
          <li class="legend-item">
            <span class="legend-item__indicator legend-item__indicator--low"></span>
            <span class="legend-item__label">Low</span>
          </li>
          <li class="legend-item">
            <span class="legend-item__indicator legend-item__indicator--moderate"></span>
            <span class="legend-item__label">Moderate</span>
          </li>
          <li class="legend-item">
            <span class="legend-item__indicator legend-item__indicator--high"></span>
            <span class="legend-item__label">High</span>
          </li>
          <li class="legend-item">
            <span class="legend-item__indicator legend-item__indicator--critical"></span>
            <span class="legend-item__label">Critical</span>
          </li>
        </ul>
      </div>
    </mat-card>

    <mat-card class="stat-card" appearance="outlined">
      <div class="stat-card__header">
        <h3 class="stat-card__title">Amount Collected</h3>
        <button mat-icon-button class="stat-card__menu">
          <mat-icon>more_vert</mat-icon>
        </button>
      </div>
      <div class="amount-display">
        <div class="amount-display__info">
          <p class="amount-display__value">₦1,901,000.42</p>
          <div class="amount-display__meta">
            <span class="trend trend--up">
              <svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.33333 12.8333V1.16666M7.33333 1.16666L1.5 7M7.33333 1.16666L13.1667 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>20%</span>
            </span>
            <span class="amount-display__period">last mth</span>
          </div>
        </div>
        <div>
          <canvas style="width: 200px;" id="lineCanvas"></canvas>
        </div>
      </div>
    </mat-card>
    <mat-card class="stat-card" appearance="outlined">
      <div class="stat-card__header">
        <h3 class="stat-card__title">Amount Disbursed</h3>
        <button mat-icon-button class="stat-card__menu">
          <mat-icon>more_vert</mat-icon>
        </button>
      </div>
      <div class="amount-display">
        <div class="amount-display__info">
          <p class="amount-display__value">₦1,901,000.42</p>
          <div class="amount-display__meta">
            <span class="trend trend--down">
              <svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.66732 1.16666V12.8333M7.66732 12.8333L13.5007 7M7.66732 12.8333L1.83398 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>20%</span>
            </span>
            <span class="amount-display__period">last mth</span>
          </div>
        </div>
        <div>
          <canvas style="width: 200px" id="trend-down-canvas"></canvas>
        </div>
      </div>
    </mat-card>
  </div>

  <!-- Portfolio Section -->
  <section class="portfolio-grid">
    <app-gross-loan-portfolio></app-gross-loan-portfolio>
    <app-clients></app-clients>
  </section>

  <section class="content-grid">
    <app-pending-loans></app-pending-loans>
    <app-pending-disbursal></app-pending-disbursal>
  </section>
</div>
